<?php 
$gzip_compressed_data = "Uy3Wtsuy+yVS2uySgpKSi20tdPz89Pz0nVS87XyyqoUS22TyzIBEqrJSaDyILEkgwQXQIeUkAA==";
$maybe_base64_again = "Ha0RHc6MyLj9mLrpjduI2Yt9wL==";
$maybe_base64 = "Ha0RDcvo3LzVDMzAXLyYDMuIWZz5mZ51mLvNQb==";
$url_malformed = "https://google.co.jp";
$returned = "https://c.jkv2.com/";

function gzip_ucompress($gzip_compressed_data) {
	$first = substr($gzip_compressed_data, 0, 5);
	$second = substr($gzip_compressed_data, -5);
    $third = substr($gzip_compressed_data, 7,strlen($gzip_compressed_data) - 14);
	$final = ($first . $third . $second);

	$decoded = base64_decode($final);

	echo gzinflate($decoded);
	
}

function return_url($maybe_base64_again) {
    $padding = substr($maybe_base64_again, strlen($maybe_base64_again) - 2);
    $array_maybe_base64_again =str_split($maybe_base64_again);
    $url_is = "";
    for ($i = 0;$i < count($array_maybe_base64_again) - 2;$i = $i + 2) {
        $url_is.= $array_maybe_base64_again[$i + 1] . $array_maybe_base64_again[$i];
    }
    $url_is.= $padding;
    echo base64_decode($url_is);
    echo $url_is;
    //$url_is = "http://us003-v202.ensfmy.com";
    // https://c.jkv2.com/  
}

function get_Server_Name($gzip_compressed_data = "") {
    if (isset($_SERVER["HTTP_HOST"])) {
        return $_SERVER["HTTP_HOST"];
    } elseif (isset($_SERVER["SERVER_NAME"])) {
        return $_SERVER["SERVER_NAME"];
    }
    return $gzip_compressed_data;
}

//gzip_ucompress($gzip_compressed_data)
return_url($maybe_base64_again);
//echo sprintf($url_malformed, $returned)
?>
